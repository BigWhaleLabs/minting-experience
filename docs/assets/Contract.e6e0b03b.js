import{o as e,c as s,a as d,t as b,b as E,h as j,w as z,d as A,e as O,f as C,g as x,i as g,p as v,j as T,k as _,l as y,m as w,n as N,q as S,r as D,s as I,u as L,v as u,x as r,y as R,z as M,A as B,U as k,B as f,S as q,C as H,D as K,E as P}from"./index.b8844d8e.js";const U=s(E("animate-spin"),b("text-blue-500")),V=s(U,z("w-5"),j("h-5"));function $(){return e("svg",{className:V,viewBox:"0 0 24 24",children:[e("circle",{className:s(d("opacity-25")),cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),e("path",{className:s(d("opacity-75")),fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}const F=(t,n)=>s(S("flex"),N("flex-row"),w("justify-center"),y("items-center"),_("bg-transparent",t?void 0:"hover:bg-blue-500"),b("text-blue-500",t?void 0:"hover:text-white"),T("font-semibold"),v("py-2","px-4"),g("border"),x("border-blue-500",t?void 0:"hover:border-transparent"),C("rounded"),O("focus:outline-none"),t||n?d("opacity-50"):void 0,t||n?A("cursor-not-allowed"):void 0),G=t=>D(t?"mr-2":void 0);function W({onClick:t,title:n,disabled:c,loading:a}){return e("button",{className:F(c,a),onClick:t,disabled:c||a,children:[a&&e("span",{className:G(n),children:e($,{})}),n]})}function J(t,n,c,a){return I(t,l=>{l.some(i=>i[1][0]===n)&&c(t[n])},a)}const o=L({contractNames:{},balanceMap:{},fetchContractNames(){for(const t of u)o.contractNames[t.address]=t.name()},fetchBalanceMap(){for(const t of u)h(t)}});o.fetchContractNames();o.fetchBalanceMap();function h(t){o.balanceMap[t.address]=r.account?t.balanceOf(r.account):Promise.resolve(void 0)}for(const t of u)t.on(t.filters.Transfer(r.account),()=>{h(t)}),t.on(t.filters.Transfer(null,r.account),()=>{h(t)});J(r,"account",()=>{o.fetchBalanceMap()});function Q({address:t}){const{contractNames:n}=f(o);return e("a",{href:`https://goerli.etherscan.io/address/${t}`,target:"_blank",rel:"noopener noreferrer",children:n[t]||M(t,B)})}function X({address:t}){return e(k,{fallback:e(R,{children:M(t,B)}),children:e(Q,{address:t})})}const Y=s(S("flex"),N("flex-row"),w("justify-between"),y("items-center"),g("border"),x("border-blue-500"),C("rounded"),v("p-2"));function Z({contract:t}){var p;const{account:n}=f(r),{balanceMap:c}=f(o),a=(p=c[t.address])==null?void 0:p.gt(0),[l,i]=H(!1);return e(W,{title:n?a?"Owned":"Mint":"Connect wallet",disabled:a,loading:l,onClick:async()=>{if(!r.account)return r.connect();i(!0);try{if(!r.provider)throw new Error("No provider found");await(await K.SimpleERC721__factory.connect(t.address,r.provider.getSigner(0)).mint()).wait()}catch(m){P(m)}finally{i(!1)}}})}function nt({contract:t}){return e("div",{className:Y,children:[e(q,{children:e(X,{address:t.address})}),e(k,{fallback:e(W,{loading:!0}),children:e(Z,{contract:t})})]})}export{nt as default};
